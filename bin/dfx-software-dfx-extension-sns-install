#!/usr/bin/env bash
set -euo pipefail

SOURCE_DIR="$(dirname "${BASH_SOURCE[0]}")"
PATH="$SOURCE_DIR:$PATH"
. "$SOURCE_DIR/versions.bash"

print_help() {
  cat <<-EOF
	Installs the sns extension for dfx.
	EOF
}

# Source the clap.bash file ---------------------------------------------------
source "$SOURCE_DIR/clap.bash"
# Define options
clap.define short=v long=version desc="The version of the extension to install" variable=VERSION default="pinned"
# Source the output file ----------------------------------------------------------
source "$(clap.build)"

if [[ "$VERSION" = "pinned" ]]; then
  VERSION="$DFX_SNS_EXTENSION_VERSION"
fi

dfx-software-dfx-extension-install --extension sns --version "$VERSION"
